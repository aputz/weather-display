(function(t){function e(e){for(var n,r,c=e[0],o=e[1],u=e[2],f=0,p=[];f<c.length;f++)r=c[f],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&p.push(s[r][0]),s[r]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);l&&l(e);while(p.length)p.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,c=1;c<a.length;c++){var o=a[c];0!==s[o]&&(n=!1)}n&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},s={app:0},i=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=o;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"037a":function(t,e,a){},"0b80":function(t,e,a){},"0bf7":function(t,e,a){"use strict";var n=a("037a"),s=a.n(n);s.a},"0f11":function(t,e,a){},"1a44":function(t,e,a){"use strict";var n=a("4bde"),s=a.n(n);s.a},"445b":function(t,e,a){"use strict";var n=a("68cb"),s=a.n(n);s.a},"4bde":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),s=a("8c4f"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home__container"},[a("div",{staticClass:"home__nested-container"},[a("router-view")],1)])},r=[],c={name:"Home"},o=c,u=(a("0bf7"),a("2877")),l=Object(u["a"])(o,i,r,!1,null,"f231bcec",null),f=l.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"search-form__container",attrs:{name:"search-form"},on:{submit:function(e){return e.preventDefault(),t.handleSubmision()}}},[a("h2",{staticClass:"title is-2"},[t._v("Enter a city name")]),a("p",{staticClass:"subtitle is-4"},[t._v("to look up weather in following days")]),a("b-field",{attrs:{label:"City name",type:t.isValid?"":"is-danger",message:t.isValid?"":"You need to enter an existing city"}},[a("b-autocomplete",{attrs:{data:t.suggestions,"custom-formatter":function(t){return t.name+", "+t.country},loading:t.isLoading,placeholder:"City name",icon:"magnify"},on:{input:function(e){return t.getSuggestions()},select:function(e){return t.handleSelection(e)},focus:function(e){t.isValid=!0}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[t.showDropdown?a("template",{slot:"empty"},[t._v("No results found")]):t._e()],2)],1),a("b-button",{attrs:{type:"is-primary search-form__submit","native-type":"submit",loading:t.isLoading}},[t._v("Look up the weather")])],1)},d=[],m=(a("b0c0"),a("d3b7"),a("ac1f"),a("5319"),{GET_FORECAST:"getForecast",GET_SUGGESTIONS:"setSuggestions"}),h={SET_FORECAST:"setForecast",SET_CITY_DATA:"setCityData",SET_SUGGESTIONS:"setSuggestions"},_={FORECAST:"forecast",CITY_DATA:"cityData",SUGGESTIONS:"suggestions"},g={name:"SearchForm",data:function(){return{city:{},selected:"",isSelected:!1,isLoading:!1,isValid:!0}},computed:{suggestions:function(){return this.$store.getters[_.SUGGESTIONS]},showDropdown:function(){return!!this.selected&&this.selected.length>=3}},methods:{handleSubmision:function(){var t=this;if(this.isValid&&this.city){var e=this.city,a=e.id,n=e.name;this.isLoading=!0,this.$store.dispatch(m.GET_FORECAST,a).then((function(){return t.$router.push({name:"Results",params:{cityName:n.replace(" ","").toLowerCase()}})})).finally((function(){t.isLoading=!1}))}},getSuggestions:function(){var t=this,e=this.selected.length>=3&&!this.isSelected&&this.isValid&&!this.isLoading;e&&(this.isLoading=!0,this.$store.dispatch(m.GET_SUGGESTIONS,this.selected).then((function(){t.isSelected||t.checkValidity()})).finally((function(){t.isLoading=!1})))},checkValidity:function(){this.isValid=!(0===this.suggestions.length||this.selected.length<0||this.isSelected)},handleSelection:function(t){this.city=t,this.isSelected=!!t,this.isSelected&&(this.isValid=!0)}}},v=g,b=(a("f423"),Object(u["a"])(v,p,d,!1,null,"4e081696",null)),S=b.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"results__container"},[t.cityData?a("div",{staticClass:"results__city-data"},[a("h2",{staticClass:"title is-2"},[t._v(t._s(t.cityData.name))]),a("span",{staticClass:"tag is-primary"},[t._v(t._s(t.cityData.country))]),a("span",{staticClass:"tag is-light"},[t._v(t._s(t.timezone))]),a("img",{attrs:{src:t.cityData.imageSrc,alt:"City location"}})]):t._e(),a("ul",{staticClass:"results__forecast"},t._l(t.forecast,(function(e,n){return a("li",{key:n,staticClass:"results__forecast-item"},[a("span",{staticClass:"hour"},[t._v(t._s(t.hourFormat(e.dt_txt)))]),a("span",{staticClass:"date"},[t._v(t._s(t.dateFormat(e.dt_txt)))]),a("img",{staticClass:"description-icon",attrs:{src:t.createIconUrl(e.weather[0].icon),alt:""}}),a("span",{staticClass:"description"},[t._v(t._s(e.weather[0].description))]),a("div",{staticClass:"info"},[a("span",{staticClass:"temp-header"},[t._v("Temperature")]),a("span",{staticClass:"temp-value"},[t._v(t._s(parseInt(e.main.temp))+" Â°C")]),a("span",{staticClass:"hum-header"},[t._v("Humidity")]),a("span",{staticClass:"hum-value"},[t._v(t._s(e.main.humidity)+" %")]),a("span",{staticClass:"clouds-header"},[t._v("Clouds")]),a("span",{staticClass:"clouds-value"},[t._v(t._s(e.clouds.all)+" %")]),a("span",{staticClass:"wind-header"},[t._v("Wind")]),a("span",{staticClass:"wind-value"},[a("b-icon",{style:"transform: rotate("+e.wind.deg+"deg)",attrs:{icon:"arrow-up",size:"is-small"}}),t._v(" "+t._s(e.wind.speed)+" m/s ")],1)])])})),0)])},T=[],C=(a("99af"),{name:"Results",computed:{forecast:function(){return this.$store.getters[_.FORECAST]},cityData:function(){return this.$store.getters[_.CITY_DATA]},timezone:function(){var t=this.cityData.timezone/3600;return"".concat(t>0?"+":"").concat(t," UTC")}},methods:{dateFormat:function(t){return Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(new Date(t))},hourFormat:function(t){return Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric"}).format(new Date(t))},createIconUrl:function(t){return"http://openweathermap.org/img/wn/".concat(t,"@2x.png")}},created:function(){this.cityData||this.$router.push({name:"Search Form"})}}),O=C,E=(a("cc0a"),Object(u["a"])(O,y,T,!1,null,"51425c74",null)),w=E.exports;n["a"].use(s["a"]);var G,j,N,D=[{path:"/",component:f,meta:{title:"Weather display"},children:[{path:"/",redirect:"/search"},{path:"/search",name:"Search Form",component:S},{path:"/result/:cityName",name:"Results",component:w}]}],A=new s["a"]({mode:"history",routes:D}),I=A,F=a("ade3"),x=a("2909"),U=a("2f62"),$=a("bc3a"),L=a.n($),R=a("aced"),k=function(t,e){var a=Object.prototype.hasOwnProperty.call(t,"message")?t.message:t;e(a)},V=function(t){R["a"].open({message:t,type:"is-danger"})};L.a.interceptors.response.use((function(t){return t}),(function(t){return k(t,V)})),n["a"].use(U["a"]);var P=new U["a"].Store({state:{city:null,forecast:[],suggestions:[]},mutations:(G={},Object(F["a"])(G,h.SET_FORECAST,(function(t,e){t.forecast=Object(x["a"])(e)})),Object(F["a"])(G,h.SET_CITY_DATA,(function(t,e){t.city=e})),Object(F["a"])(G,h.SET_SUGGESTIONS,(function(t,e){t.suggestions=e})),G),getters:(j={},Object(F["a"])(j,_.FORECAST,(function(t){return t.forecast})),Object(F["a"])(j,_.CITY_DATA,(function(t){return t.city})),Object(F["a"])(j,_.SUGGESTIONS,(function(t){return t.suggestions})),j),actions:(N={},Object(F["a"])(N,m.GET_FORECAST,(function(t,e){var a=t.commit,n="/api/forecast/".concat(e);return L.a.get(n).then((function(t){return t.data.result})).then((function(t){var e=t.city,n=t.list;a(h.SET_CITY_DATA,e),a(h.SET_FORECAST,n)}))})),Object(F["a"])(N,m.GET_SUGGESTIONS,(function(t,e){var a=t.commit,n="/api/search/".concat(e);return a(h.SET_SUGGESTIONS,[]),L.a.get(n).then((function(t){return t.data.result})).then((function(t){a(h.SET_SUGGESTIONS,t)}))})),N)}),Y=a("184c"),W=a("10bd"),z=a("283c"),M=a("dcd5"),H=a("77b4"),J=a("c0ac"),q=(a("5abe"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app__container",attrs:{id:"app"}},[a("Navbar",{attrs:{appName:t.appName}}),a("router-view")],1)}),B=[],K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-navbar",{staticClass:"navbar__container",attrs:{type:"is-transparent"}},[a("template",{slot:"brand"},[a("router-link",{attrs:{to:"/"}},[a("b-navbar-item",{staticClass:"navbar__brand"},[a("Logo",{attrs:{appName:t.appName}})],1)],1)],1)],2)},Q=[],X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",{staticClass:"title is-6 has-text-white logo__container"},[t._v(t._s(t.appName))])},Z=[],tt={name:"Logo",props:{appName:{type:String,default:""}}},et=tt,at=(a("dbf3"),Object(u["a"])(et,X,Z,!1,null,null,null)),nt=at.exports,st={name:"Navbar",components:{Logo:nt},props:{appName:{type:String,default:""}}},it=st,rt=(a("1a44"),Object(u["a"])(it,K,Q,!1,null,"5920c777",null)),ct=rt.exports,ot={data:function(){return{appName:"Weather display"}},components:{Navbar:ct},watch:{$route:function(t,e){document.title=t.meta.title||"Weather display"}},created:function(){document.title="Weather display"}},ut=ot,lt=(a("445b"),Object(u["a"])(ut,q,B,!1,null,null,null)),ft=lt.exports;n["a"].config.productionTip=!1,n["a"].use(Y["a"]),n["a"].use(W["a"]),n["a"].use(z["a"]),n["a"].use(M["a"]),n["a"].use(H["a"]),n["a"].use(J["a"]),n["a"].use(R["b"]),new n["a"]({router:I,store:P,render:function(t){return t(ft)}}).$mount("#app")},"68cb":function(t,e,a){},cc0a:function(t,e,a){"use strict";var n=a("f136"),s=a.n(n);s.a},dbf3:function(t,e,a){"use strict";var n=a("0f11"),s=a.n(n);s.a},f136:function(t,e,a){},f423:function(t,e,a){"use strict";var n=a("0b80"),s=a.n(n);s.a}});
//# sourceMappingURL=app.7aa28c19.js.map